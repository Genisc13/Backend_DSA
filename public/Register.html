<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>THE MAZE OF ROOMS</title>

    <script>
        $(document).ready(function(){
            $("#registerButton").click(function(){
                var name=$("#userName").val();
                var surname=$("#surname").val();
                var birthday=$("#birthday").val();
                var userMail=$("#userEmail").val();
                var userPassword=$("#userPassword").val();
                if (name==="" || surname==="" || birthday==="" || userMail==="" || userPassword===""){
                    alert("Fulfill all the gaps!");
                }
                else{
                    $.ajax({
                        contentType: "application/json",
                        type: 'POST',
                        url: '/dsaApp/shop/user/register',
                        data: JSON.stringify({"name": name, "surname": surname, "birthday": birthday, "email":userMail,"password":userPassword}),
                        dataType: 'json',
                        success: function(json){

                            alert("User registered correctly");
                            $(location).attr('href', "index.html");
                        },
                        error: function (json){
                            alert("Mail already is in use!");
                        }
                    })
                }
            });
        });
    </script>
</head>
<body>
<div class="cod-container" style="margin: auto; width: 50%">
    <div class="form-header">
        <h1>
            Register
        </h1>
    </div>
    <div class="form-content">
        <form>
            <div class="input-group text-center" style="margin: auto; width: 50%; padding-top: 15px">
                <label for="userName">Name</label>
                <input type="text" class="form-control" id="userName"><br>
                <label for="surname">Surname</label>
                <input type="text" class="form-control" id="surname"><br>
                <label for="birthday">Birthday</label>
                <input type="text" class="form-control" id="birthday"><br>
                <label for="userEmail">Email</label>
                <input type="text" class="form-control" id="userEmail"><br>
                <label for="userPassword">Password</label>
                <input type="password" class="form-control" id="userPassword"><br>
                <button type="button" class="btn btn-block btn-warning" id="registerButton">Accept</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>